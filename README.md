# kidneyMatching

==Kidney Matching==
Authors: Yu Ju Liang, Trisha Huang.

===What is the problem?===

Each year, many patients are put on the waitlist for organ transplants. To find a matching organ for each patient, we must consider blood type, cell antigen type (also known as human leukocyte antigen, abbreviated as HLA), and whether the donor organ and the recipient are in the same city. These factors are weighted differently due to the nature of organ transplant. For example, the organ donor’s blood type must match with that of the recipient’s; therefore, it has higher priority than whether the location of the organ and patient are in the same city. 

Kidney Matching finds a list of matching kidneys from the database for a patient, then ranks them based on the criteria listed above. If the core criteria is not matched (e.g. blood type and cell antigen type), then rather than having a low ranking matching, the matching will  not be on the list.

Donor organ attributes:
ID, city, blood type, HLA_A1, HLA_A2, HLA_B1, HLA_B2, HLA_DR1, HLA_DR2, living donor

Recipient attributes:
ID, city, blood type, age, HLA_A1, HLA_A2, HLA_B1, HLA_B2, HLA_DR1, HLA_DR2, once a donor, PRA percentage

Sample sizes: 10 kidneys, 30 patients (using triple store).
Data generated by Java’s random number generator, with weighted scheme based on likelihood for blood type, age, city, and PRA percentage.

References:

Real-life donor matching system: https://optn.transplant.hrsa.gov/learn/about-transplantation/donor-matching-system/

Kidney blood matching: http://www.ucdmc.ucdavis.edu/transplant/livingdonation/donor_compatible.html

Kidney tissue typing / HLA matching: http://www.ucdmc.ucdavis.edu/transplant/learnabout/learn_hla_type_match.html

Matching rubric: https://paireddonation.org/about-us/algorithm/  


===What is the something extra?===

Kidney Matching not only searches for matching kidneys, it also ranks them based on a weighted scheme.
    Kidney Matching also assigns kidneys to a list of patients based on their highest ranking.    

===What did we learn from doing this?===

Prolog is very suitable for solving matching problems. Logic programming is excellent at setting the matching rules by defining relations and other criteria like how to calculate the weighted scheme specified in the problem domain.  

At first, we were overly ambitious and considered including more than one organ type in the organ matching problem. For example, other organs that can be donated for transplants include the heart, lungs, liver, pancreas, and the intestines. However, we found that there are many criteria to consider for matching just one organ type to a recipient. While blood type and HLA are the core criteria for matching all donor organs to recipients, different organs have additional criteria to consider. For example, before a lung transplant can be considered, the body sizes of the lung transplant donor and the recipient must be similar so that the donated lobe of lung can fit inside the chest cavity of the recipient (reference for lung transplant: https://my.clevelandclinic.org/health/articles/lung-transplant-finding-an-organ-donor). 

Given the timeframe for this project, we decided to reduce the scope of the problem to focus on kidney transplants. However, we believe that it is feasible to use logic programming to build on the project and expand the scope of the problem to consider additional criteria for other organ transplants. 

